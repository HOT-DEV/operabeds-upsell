{% comment %}
    The Info Blocks section template.

    TODO:
    - Replace hard-coded columns with section blocks

    BLOCKS
    - Add setting for controlling the icon.
      Use a "select" field with the values included in the HTML below. See /src/icons for more icons.
    - Add setting for controlling the heading.
    - Add setting for controlling the content.
      Things are setup to automatically deal with the margin for the contents last P tag - *ensure a Rich Text field is used*
    - Retain the use of the rendered snippet
{% endcomment %}

{%- liquid
    assign blocks_info = section.blocks | where: 'type', 'info_block'

-%}
{%- if blocks_info -%}
    <section class="s-info-block text-white" data-section-type="info-blocks" data-section-id="{{ section.id }}">
        <div class="container site-padding py-18">
            <div class="row justify-content-center align-items-md-stretch">
                {%- for block_info in blocks_info -%}
                    <div class="col-12 col-lg-4 mb-16 mb-lg-0" data-block-id="{{ block.id }}" data-block-type="{{ block.type | handleize }}" {{ block.shopify_attributes }}>
                        {%-
                            render 'info-block',
                            class: 'w-100 h-100',
                            href: block_info.settings.url
                            icon: block_info.settings.icon,
                            heading: block_info.settings.title,
                            content: block_info.settings.text,
                        -%}
                    </div>
                {%- endfor -%}
            </div>
        </div>
    </section>
{%- endif -%}
{% schema %}
{
    "name": "Info Blocks",
    "settings": [],
    "blocks": [
        {
            "type": "info_block",
            "name": "Information Block",
            "limit": 3,
            "settings": [
                {
                    "type": "text",
                    "id": "title",
                    "label": "Heading"
                },
                {
                    "type": "url",
                    "id": "url",
                    "label": "Link"
                },
                {
                    "type": "richtext",
                    "id": "text",
                    "label": "Text"
                },
                {
                    "type": "select",
                    "id": "icon",
                    "options": [
                    { "value": "advice", "label": "Advice"}, 
                    { "value": "arrow-down", "label": "Arrow Down"}, 
                    { "value": "arrow-left", "label": "Arrow Left"}, 
                    { "value": "arrow-right", "label": "Arrow Right"}, 
                    { "value": "arrow-up", "label": "Arrow Up"}, 
                    { "value": "bars", "label": "Bars"}, 
                    { "value": "bed", "label": "Bed"}, 
                    { "value": "bespoke-service", "label": "Bespoke Service"}, 
                    { "value": "brochure2", "label": "Brochure2"}, 
                    { "value": "brush-square", "label": "Brush Square"}, 
                    { "value": "caret-down", "label": "Caret Down"}, 
                    { "value": "caret-left", "label": "Caret Left"}, 
                    { "value": "caret-right", "label": "Caret Right"}, 
                    { "value": "caret-up", "label": "Caret Up"}, 
                    { "value": "check-circle", "label": "Check Circle"}, 
                    { "value": "check", "label": "Check"}, 
                    { "value": "chevron-down", "label": "Chevron Down"}, 
                    { "value": "chevron-left", "label": "Chevron Left"}, 
                    { "value": "chevron-right", "label": "Chevron Right"}, 
                    { "value": "chevron-up", "label": "Chevron Up"}, 
                    { "value": "circulation", "label": "Circulation"}, 
                    { "value": "close", "label": "Close"}, 
                    { "value": "comfort", "label": "Comfort"}, 
                    { "value": "customisable", "label": "Customisable"}, 
                    { "value": "delivery-lg", "label": "Delivery Lg"}, 
                    { "value": "delivery-pallet", "label": "Delivery Pallet"}, 
                    { "value": "delivery-time", "label": "Delivery Time"}, 
                    { "value": "delivery", "label": "Delivery"}, 
                    { "value": "delivery2", "label": "Delivery2"}, 
                    { "value": "discover", "label": "Discover"}, 
                    { "value": "documents", "label": "Documents"}, 
                    { "value": "documents2", "label": "Documents2"}, 
                    { "value": "double-quote", "label": "Double Quote"}, 
                    { "value": "facebook-f", "label": "Facebook F"}, 
                    { "value": "finance", "label": "Finance"}, 
                    { "value": "finance2", "label": "Finance2"}, 
                    { "value": "headboards", "label": "Headboards"}, 
                    { "value": "headset", "label": "Headset"}, 
                    { "value": "heart-hands-lg", "label": "Heart Hands Lg"}, 
                    { "value": "heart-outline", "label": "Heart Outline"}, 
                    { "value": "light-bulb", "label": "Light Bulb"}, 
                    { "value": "linkedin-in", "label": "Linkedin In"}, 
                    { "value": "maintenance", "label": "Maintenance"}, 
                    { "value": "minus", "label": "Minus"}, 
                    { "value": "padded-mattress-platform", "label": "Padded Mattress Platform"}, 
                    { "value": "parts", "label": "Parts"}, 
                    { "value": "play-circle", "label": "Play Circle"}, 
                    { "value": "plus", "label": "Plus"}, 
                    { "value": "posture", "label": "Posture"}, 
                    { "value": "recycle-lg", "label": "Recycle Lg"}, 
                    { "value": "sales", "label": "Sales"}, 
                    { "value": "search", "label": "Search"}, 
                    { "value": "secure-checkout", "label": "Secure Checkout"}, 
                    { "value": "shopping-bag", "label": "Shopping Bag"}, 
                    { "value": "sleep-in-bed", "label": "Sleep In Bed"}, 
                    { "value": "star-fill", "label": "Star Fill"}, 
                    { "value": "star-outline", "label": "Star Outline"}, 
                    { "value": "trustpilot-primary-dark", "label": "Trustpilot Primary Dark"}, 
                    { "value": "twitter", "label": "Twitter"}, 
                    { "value": "uk-map", "label": "Uk Map"}, 
                    { "value": "union-jack", "label": "Union Jack"}, 
                    { "value": "user-check", "label": "User Check"}, 
                    { "value": "user", "label": "User"}, 
                    { "value": "warranty", "label": "Warranty"}, 
                    { "value": "widths", "label": "Widths"}, 
                    { "value": "wireless", "label": "Wireless"}
                    ],
                    "label": "Icon"
                 }
            ]
        }
    ],
    "presets": [
        {
            "name": "Info Blocks",
            "category": "Homepage",
            "settings": {},
            "blocks": []
        }
    ]
}
{% endschema %}
